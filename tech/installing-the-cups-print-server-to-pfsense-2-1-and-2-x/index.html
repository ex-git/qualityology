<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charset="utf-8"><title>Installing the CUPS Print Server to pfSense 2.1 and 2.x - Qualityology - Let&#39;s get the most out of life!</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="CUPS, the Common UNIX Printing System, provides a portable printing layer for UNIX-based operating systems. It has been developed by Easy Software Products to promote a standard printing solution for"><meta property="og:type" content="article"><meta property="og:title" content="Installing the CUPS Print Server to pfSense 2.1 and 2.x"><meta property="og:url" content="https://www.qualityology.com/tech/installing-the-cups-print-server-to-pfsense-2-1-and-2-x/index.html"><meta property="og:site_name" content="Qualityology - Let&#39;s get the most out of life!"><meta property="og:description" content="CUPS, the Common UNIX Printing System, provides a portable printing layer for UNIX-based operating systems. It has been developed by Easy Software Products to promote a standard printing solution for"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2014-07-14T22:09:46.000Z"><meta property="article:modified_time" content="2021-02-23T06:11:37.388Z"><meta property="article:author" content="Evan Xu"><meta property="article:tag" content="pfsense"><meta name="twitter:card" content="summary"><link rel="alternative" href="/rss.xml" title="Installing the CUPS Print Server to pfSense 2.1 and 2.x" type="aapplication/rss+xml"><link rel="alternative" href="/atom.xml" title="Installing the CUPS Print Server to pfSense 2.1 and 2.x" type="application/atom+xml"><link rel="alternative" href="/feed.json" title="Installing the CUPS Print Server to pfSense 2.1 and 2.x" type="application/json"><link rel="icon" type="image/png" href="/assets/logo.png"><link rel="apple-touch-icon" href="/assets/logo_160.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/logo_304.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/logo_360.png"><link rel="apple-touch-icon" sizes="167x167" href="/assets/logo_334.png"><meta name="apple-mobile-web-app-title" content="Installing the CUPS Print Server to pfSense 2.1 and 2.x - Qualityology - Let&#39;s get the most out of life!"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/style.css"><script defer src="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/js/all.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-6144848-7"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-6144848-7")</script><meta name="generator" content="Hexo 5.3.0"></head><body><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item navbar-logo" href="/"><img src="assets/loading.gif" data-original="/assets/logo.png" alt="" height="28"></a><div class="navbar-burger"><span></span> <span></span> <span></span></div></div><div class="navbar-menu navbar-start"><span class="navbar-item"><a href="/lifestyle">Lifestyle </a></span><span class="navbar-item is-active"><a href="/tech">Technology</a></span></div><div class="navbar-menu navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-4 is-size-4-mobile" itemprop="name">Installing the CUPS Print Server to pfSense 2.1 and 2.x</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"><span class="column is-narrow"><time datetime="2014-07-14T22:09:46.000Z" itemprop="datePublished">Jul 14 2014</time> </span><span class="column is-narrow article-category"><i class="far fa-folder"></i> <a class="article-category-link" href="/tech/">tech</a> </span><span class="column is-narrow">6 minutes read (About 956 words)</span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><p>CUPS, the Common UNIX Printing System, provides a portable printing layer for UNIX-based operating systems. It has been developed by Easy Software Products to promote a standard printing solution for all UNIX vendors and users. To install CUPS using a precompiled binary, for pfSense 2.x, issue the following command from a root terminal: Note: For NanoBSD, must remount embedded filesystem as read-write. <strong>pfSense 2.1:</strong> in the GUI under Diagnostics &gt; NanoBSD, using the toggle button there. <strong>Previous version:</strong></p><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="9746105168" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/rc.conf_mount_rw</span><br></pre></td></tr></table></figure><h2 id="Adding-CUPS-to-PFSense-2-1"><a href="#Adding-CUPS-to-PFSense-2-1" class="headerlink" title="Adding CUPS to PFSense 2.1"></a>Adding CUPS to PFSense 2.1</h2><p><strong>Step 1: Add correct repository</strong> For x86 version:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenv PACKAGESITE ftp://ftp-archive.freebsd.org/pub/FreeBSD-Archive/old-releases/i386/8.1-RELEASE/packages/Latest/</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenv PACKAGESITE http://www.mirrorservice.org/pub/FreeBSD/ports/i386/packages-8.3-release/Latest/</span><br></pre></td></tr></table></figure><p>For x64 version:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenv PACKAGESITE http://www.mirrorservice.org/pub/FreeBSD/ports/amd64/packages-8.3-release/Latest/</span><br></pre></td></tr></table></figure><h2 id="Step-2-Install-CUPS-dependencies"><a href="#Step-2-Install-CUPS-dependencies" class="headerlink" title="Step 2: Install CUPS + dependencies"></a>Step 2: Install CUPS + dependencies</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg_add -r cups</span><br></pre></td></tr></table></figure><h2 id="Step-3-modify-cupsd-conf"><a href="#Step-3-modify-cupsd-conf" class="headerlink" title="Step 3: modify cupsd.conf"></a>Step 3: modify cupsd.conf</h2><p>Replace the original config file (/usr/local/etc/cups/cupsd.conf) with the text below, this will allow anyone on the local network to access the Web GUI, cancel print jobs, and connect to the printer.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">DefaultEncryption Never</span><br><span class="line">LogLevel warn</span><br><span class="line">SystemGroup wheel</span><br><span class="line"># Allow remote access</span><br><span class="line">Port 631</span><br><span class="line">Listen /var/run/cups.sock</span><br><span class="line"># Enable printer sharing and shared printers.</span><br><span class="line">Browsing On</span><br><span class="line">BrowseOrder allow,deny</span><br><span class="line">BrowseAllow all</span><br><span class="line">BrowseRemoteProtocols CUPS</span><br><span class="line">BrowseAddress @LOCAL</span><br><span class="line">BrowseLocalProtocols CUPS</span><br><span class="line">DefaultAuthType Basic</span><br><span class="line">&lt;Location /&gt;</span><br><span class="line"># Allow shared printing and remote administration...</span><br><span class="line">Order allow,deny</span><br><span class="line">Allow @LOCAL</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line">&lt;Location /admin&gt;</span><br><span class="line"># Allow remote administration...</span><br><span class="line">Order allow,deny</span><br><span class="line">Allow @LOCAL</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line">&lt;Location /admin/conf&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @SYSTEM</span><br><span class="line"># Allow remote access to the configuration files...</span><br><span class="line">Order allow,deny</span><br><span class="line">Allow @LOCAL</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line">&lt;Policy default&gt;</span><br><span class="line">&lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job CUPS-Move-Job CUPS-Get-Document&gt;</span><br><span class="line">Require user @OWNER @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default CUPS-Get-Devices&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit CUPS-Authenticate-Job&gt;</span><br><span class="line">Require user @OWNER @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit All&gt;</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;/Policy&gt;</span><br><span class="line">&lt;Policy authenticated&gt;</span><br><span class="line">&lt;Limit Create-Job Print-Job Print-URI&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job CUPS-Move-Job CUPS-Get-Document&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @OWNER @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;</span><br><span class="line">AuthType Default</span><br><span class="line">Require user @OWNER @SYSTEM</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;Limit All&gt;</span><br><span class="line">Order deny,allow</span><br><span class="line">&lt;/Limit&gt;</span><br><span class="line">&lt;/Policy&gt;</span><br><span class="line">BrowseWebIF Yes</span><br></pre></td></tr></table></figure><h2 id="Step-4-Create-the-startup-script-usr-local-etc-rc-d-run-cups-sh-for-CUPS"><a href="#Step-4-Create-the-startup-script-usr-local-etc-rc-d-run-cups-sh-for-CUPS" class="headerlink" title="Step 4: Create the startup script (/usr/local/etc/rc.d/run_cups.sh) for CUPS"></a>Step 4: Create the startup script (/usr/local/etc/rc.d/run_cups.sh) for CUPS</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line"> # Allow time for devfs to initialize.</span><br><span class="line">sleep 5</span><br><span class="line"></span><br><span class="line"> # This will allow LPT(parallel port) printers.</span><br><span class="line">echo -e &quot;[system=10] \nadd path &apos;unlpt*&apos; mode 0660 group cups\nadd path &apos;ulpt*&apos; mode 0660 group cups\nadd path &apos;lpt*&apos; mode 0660 group cups&quot; &gt; /etc/devfs.rules</span><br><span class="line"></span><br><span class="line"> # Restart devfs so it can read new config.</span><br><span class="line">/etc/rc.d/devfs restart</span><br><span class="line"></span><br><span class="line"> # Allow time for devfs to initialize.</span><br><span class="line">sleep 5</span><br><span class="line"></span><br><span class="line"> # Now let&apos;s start CUPS!</span><br><span class="line">/usr/local/etc/rc.d/cupsd onestart</span><br></pre></td></tr></table></figure><h2 id="Step-5-Make-the-script-executable"><a href="#Step-5-Make-the-script-executable" class="headerlink" title="Step 5: Make the script executable"></a>Step 5: Make the script executable</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`chmod 755 /usr/local/etc/rc.d/run_cups.sh`</span><br></pre></td></tr></table></figure><h2 id="Step-6-Add-rule-to-devfs-so-CUPS-print-server-can-start-on-boot"><a href="#Step-6-Add-rule-to-devfs-so-CUPS-print-server-can-start-on-boot" class="headerlink" title="Step 6: Add rule to devfs so CUPS print server can start on boot"></a>Step 6: Add rule to devfs so CUPS print server can start on boot</h2><p>Add two lines to /etc/rc.conf</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cupsd_enable=&quot;YES&quot;</span><br><span class="line">devfs_system_ruleset=&quot;system&quot;</span><br></pre></td></tr></table></figure><h2 id="Step-7-Disable-CUPS-during-reboot-and-shutdown"><a href="#Step-7-Disable-CUPS-during-reboot-and-shutdown" class="headerlink" title="Step 7: Disable CUPS during reboot and shutdown"></a>Step 7: Disable CUPS during reboot and shutdown</h2><p>Add the following command to &#x201C;/etc/rc.reboot&#x201D; and &#x201C;/etc/rc.shutdown&#x201D; before the line that says &#x201C;# If PLATFORM is pfSense then remove&#x201D;</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/rc.d/cupsd stop</span><br></pre></td></tr></table></figure><p><strong>All set. Start CUPS now</strong> Reboot or use command:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/rc.d/run_cups.sh</span><br></pre></td></tr></table></figure><p><strong>Add printer to CUPS:</strong> Now open up your web browser and go to &#x201C;<a target="_blank" rel="noopener" href="http://your/">http://Your</a> pfSense address:631&#x201D;.</p><h2 id="Printer-driver"><a href="#Printer-driver" class="headerlink" title="Printer driver:"></a>Printer driver:</h2><p><strong>Foomatic</strong>: a database-driven system for integrating free software printer drivers with common spoolers under Unix. If you receive error &#x201C;stopped with status 22&#x201D;. Install foomatic-db + dependencies.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg_add -r foomatic-db foomatic-filters</span><br></pre></td></tr></table></figure><p><strong>hplip</strong>: HP drivers for DeskJet, OfficeJet, Photosmart, Business Inkjet and some LaserJet printer models, as well as a number of Brother printers.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg_add -r hplip</span><br></pre></td></tr></table></figure><p><strong>gutenprint</strong>: A collection of high quality drivers for Canon, Epson, Lexmark, Sony, Olympus, and PCL printers for use with GhostScript, CUPS, Foomatic, and the GIMP</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg_add -r  gutenprint</span><br></pre></td></tr></table></figure><p><strong>splix</strong>: Samsung drivers for SPL (Samsung Printer Language) printers.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg_add -r  splix</span><br></pre></td></tr></table></figure><h2 id="Missing-printer-driver-file-PPD"><a href="#Missing-printer-driver-file-PPD" class="headerlink" title="Missing printer driver file PPD?"></a>Missing printer driver file PPD?</h2><p>Some printers&#x2019; PPD are available in <a target="_blank" rel="noopener" href="http://www.openprinting.org/printers">http://www.openprinting.org/printers</a> <strong>Troubleshooting:</strong> If you receive error: &#x201C;Unable to create certificate file /var/run/cups/certs/0 - No such file or directory&#x201D;, add the following command to the startup script.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -r /var/run/cups/certs/</span><br></pre></td></tr></table></figure><p>If you receive error: &#x201C;cupsdReadClient: Unable to write 14 bytes to /var/spool/cups/00000005: Bad file descriptor&#x201D;, add the following command to the startup script.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -pv /var/spool/cups/</span><br></pre></td></tr></table></figure><p>If your CUPS decided to detect printers as a /dev/ulpt1 /dev/ulpt0 instead of the correctly detected printer (with /dev/usb/0.2.* and /dev/usb/0.3.*), to enable printing with local printer you need to give group &#x2018;cups&#x2019; r/w access to printer device: 1) Add following to /etc/devfs.rules (create if it doesn&#x2019;t exist):</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[system=10]</span><br><span class="line">add path &apos;unlpt*&apos; mode 0660 group cups</span><br><span class="line">add path &apos;ulpt*&apos; mode 0660 group cups</span><br><span class="line">add path &apos;lpt*&apos; mode 0660 group cups</span><br></pre></td></tr></table></figure><ol start="2"><li>And following to /etc/rc.conf:</li></ol><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devfs_system_ruleset=&quot;system&quot;</span><br></pre></td></tr></table></figure><ol start="3"><li>Restart devfs:</li></ol><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/rc.d/devfs restart</span><br></pre></td></tr></table></figure><p>If your system supports &#x2018;devd&#x2019; you can copy $PREFIX/share/examples/cups/lpt-cupsd.conf to $PREFIX/etc/devd/ To enable printing under Gimp and MS-Windows clients do the following:</p><ol><li>Uncomment application/octet-stream line in mime.types</li><li>Uncomment application/octet-stream line in mime.convs</li><li>Restart cupsd</li></ol><p>If you are using libusb, it is important that no device driver, e.g. ulpt(4) is attached to the device you wish to use. In this case please ensure the cups user and group has read/write access to /dev/ugen* If you are using a USB printer wtih FreeBSD 8.0 or later, you will need to find the proper /dev/usb/* device pointed at by the /dev/ugen* entry. Follow the instructions for devfs.rules as above, but append a rule similar to the following for a printer attached as /dev/ugen0.2:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add path &apos;usb/0.2.*&apos; mode 0660 group cups</span><br></pre></td></tr></table></figure><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="2953513567" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="columns is-variable is-1 is-multiline is-mobile"><span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/pfsense/">#pfsense</a></span></div><div class="columns is-mobile is-multiline article-nav"><span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/tech/set-up-your-raspberry-pi-for-the-first-time/">Set up your Raspberry Pi for the first time</a> </span><span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/tech/add-multiple-printers-on-tomato-firmware-router-with-hotplug/">Add multiple printers on Tomato firmware router with hotplug</a></span></div></article><div class="sharebox"><div class="sharethis-inline-share-buttons"></div><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=6030430e289b2f0011212bb6&amp;product=sop" async></script></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered">&copy; 2021 Qualityology&nbsp;</div><div class="column is-hidden-mobile"></div></div></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>window.FontAwesomeConfig={searchPseudoElements:!0},moment.locale("en-AU")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready(function(){$("figure.hljs").each(function(t,e){var a="code-"+t,r=e.querySelector(".code"),t=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,t.addClass("clipboard-btn"),t.attr("data-clipboard-target-id",a);a=e.querySelector("figcaption");a?a.append(t[0]):e.prepend(t[0])}),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",function(t){t.clearSelection()})})</script><script src="/js/script.js"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>