<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charset="utf-8"><title>Initial Server Setup with CentOS 5.x 6.x 7.x - Qualityology - Let&#39;s get the most out of life!</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="preconnect" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="preconnect" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="preconnect" href="//ajax.googleapis.com"><link rel="dns-prefetch" href="//ajax.googleapis.com"><link rel="canonical" href="https://www.qualityology.com/tech/initial-server-setup-with-centos-5-x-6-x-7-x/"><meta name="description" content="This is a quick tutorial for building a CentOS based VPS&#x2F;Dedicated server. CentOS server doesn&amp;#x2019;t include GUI in default so the only way to access server is using Secure Shell (SSH). The followi"><meta property="og:type" content="article"><meta property="og:title" content="Initial Server Setup with CentOS 5.x 6.x 7.x"><meta property="og:url" content="https://www.qualityology.com/tech/initial-server-setup-with-centos-5-x-6-x-7-x/index.html"><meta property="og:site_name" content="Qualityology - Let&#39;s get the most out of life!"><meta property="og:description" content="This is a quick tutorial for building a CentOS based VPS&#x2F;Dedicated server. CentOS server doesn&amp;#x2019;t include GUI in default so the only way to access server is using Secure Shell (SSH). The followi"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.qualityology.com/2014/08/putty-ssh.png"><meta property="article:published_time" content="2014-08-31T03:22:09.000Z"><meta property="article:modified_time" content="2021-02-23T06:05:02.019Z"><meta property="article:author" content="Evan Xu"><meta property="article:tag" content="CentOS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.qualityology.com/2014/08/putty-ssh.png"><link rel="icon" type="image/png" href="/assets/logo.png"><link rel="apple-touch-icon" href="/assets/logo_160.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/logo_304.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/logo_360.png"><link rel="apple-touch-icon" sizes="167x167" href="/assets/logo_334.png"><meta name="apple-mobile-web-app-title" content="Initial Server Setup with CentOS 5.x 6.x 7.x - Qualityology - Let&#39;s get the most out of life!"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&display=swap"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/style.css"><script>const pageLoaded=()=>{const o=window.adsbygoogle||[];o.push({}),o.push({})}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-6144848-7"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-6144848-7")</script><meta name="generator" content="Hexo 5.4.0"></head><body onload="pageLoaded()"><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item navbar-logo" href="/"><img src="/assets/loading.gif" data-original="/assets/logo.png" alt height="28"></a><div class="navbar-burger"><span></span> <span></span> <span></span></div></div><div class="navbar-menu navbar-start"><span class="navbar-item"><a href="/lifestyle">Lifestyle </a></span><span class="navbar-item is-active"><a href="/tech">Technology</a></span></div><div class="navbar-menu navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-4 is-size-4-mobile" itemprop="name">Initial Server Setup with CentOS 5.x 6.x 7.x</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"><span class="column is-narrow"><time datetime="2014-08-31T03:22:09.000Z" itemprop="datePublished">Aug 30 2014</time> </span><span class="column is-narrow article-category"><i class="far fa-folder"></i> <a class="article-category-link" href="/tech/">tech</a> </span><span class="column is-narrow">6 minutes read (About 838 words)</span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><p>This is a quick tutorial for building a CentOS based VPS/Dedicated server. CentOS server doesn&#x2019;t include GUI in default so the only way to access server is using Secure Shell (SSH). The following steps will be completed by using SSH.</p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="9746105168" data-ad-format="auto" data-full-width-responsive="true"></ins><h2 id="Step-One-Login-to-your-server-as-root"><a href="#Step-One-Login-to-your-server-as-root" class="headerlink" title="Step One: Login to your server as root."></a>Step One: Login to your server as root.</h2><p>Have your server&#x2019;s IP address and root password ready. Login as the main user: root. We use <a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.putty.org/" title="Putty">PuTTY</a> in Windows environment here to demonstrate how to use SSH to connect to your CentOS server. Open Putty and fill in the IP address, make sure the &#x201C;connection type&#x201D; is &#x201C;SSH&#x201D;. Leave port 22 as default and click Open. <img src="/assets/loading.gif" data-original="/2014/08/putty-ssh.png" alt="Putty Ssh"> For other platforms like Mac OS X which has a built-in SSH client call Terminal. Use the following command (replace the boldfaced numbers with your own IP address):</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@192.168.1.1</span><br></pre></td></tr></table></figure><p>The Putty or Terminal will ask you to confirm the connection when you first time using SSH in your environment, Click/type yes and then enter your root password.</p><h2 id="Step-Two-Change-default-root-password"><a href="#Step-Two-Change-default-root-password" class="headerlink" title="Step Two: Change default root password."></a>Step Two: Change default root password.</h2><p>If you rent VPS or Dedicated server, using the default password that the server provider sent you is not a good idea. So the next thing to do is change it to one of your choice. Execute the following command and follow the direction to change your root password</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd root</span><br></pre></td></tr></table></figure><p>You can either set a more complex password or a short or simple password (Not recommended using a simple password for root). You will not need to re-login again to your server as root after the password change.</p><h2 id="Step-Three-Add-a-new-sudo-user-account"><a href="#Step-Three-Add-a-new-sudo-user-account" class="headerlink" title="Step Three: Add a new sudo user account."></a>Step Three: Add a new sudo user account.</h2><p>Log-in into your server as root is not recommended because of root has all of the administrative capabilities. In this step we will make a new user, with a new password, and give them all of the root capabilities.</p><p><strong>First, create your user; you can choose any name for your user.</strong></p><p>Here is a example of creating a new user: &#x201C;qualityology&#x201D; (replace &#x201C;qualityology&#x201D; with your own username):</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser qualityology</span><br></pre></td></tr></table></figure><p><strong>Second, change the new user&#x2019;s password.</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd qualityology</span><br></pre></td></tr></table></figure><p><strong>Third, grant administrative privileges.</strong></p><p>When you perform any root tasks with the new user account, you will need to use the phrase &#x201C;sudo&#x201D; before the command. We give users access to the sudo command with the <strong>visudo</strong> command. Execute the following command to edit the sudo configuration. This will be done through the default editor in CentOS is called &#x201C;vi&#x201D;.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></table></figure><p>It will looks like this:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## Allow root to run any commands anywhere</span><br><span class="line">root    ALL=(ALL)     ALL</span><br></pre></td></tr></table></figure><p>We give a user sudo privileges by copying the line beginning with &#x201C;root&#x201D; and pasting it after. We then change the user &#x201C;root&#x201D; on the new line to our new user, like this:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## Allow root to run any commands anywhere</span><br><span class="line">root    ALL=(ALL)     ALL</span><br><span class="line">qualityology    ALL=(ALL)     ALL</span><br></pre></td></tr></table></figure><p>We can now save the file and close it. Press <strong>Esc</strong> key to stop editing, then type <strong>:wq</strong> and hit Enter to save and exit the file. Now, when you are logged in as your regular user, you can execute a certain command with root privileges by typing:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo command_name</span><br></pre></td></tr></table></figure><h2 id="Step-four-Configure-SSH-and-Disable-root-login-in-sshd-configuration-files-OPTIONAL"><a href="#Step-four-Configure-SSH-and-Disable-root-login-in-sshd-configuration-files-OPTIONAL" class="headerlink" title="Step four: Configure SSH and Disable root login in sshd configuration files (OPTIONAL)."></a>Step four: Configure SSH and Disable root login in sshd configuration files (OPTIONAL).</h2><p>If you have a concern about the server&#x2019;s security. Now you can make the server more secure by following this optional but recommended steps. They will make the server more secure by making unauthorized login more difficult.</p><p><strong>First, change the default SSH port 22 to a new port number.</strong> Port 22 is the default SSH port, you can change this to any number between 1025 and 65536 to prevent some automated &#x201C;Brute-Force SSH Attack&#x201D; to port 22. Open the SSH configuration file:</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>Find the following sections. Remove the <strong>#</strong> symbol (The # symbol tells the server to ignore anything after it on the same line, so we will need to remove that character) and change the number 22 to whatever number you want bewtwwn 1025 and 65536. Be sure you do not pick a port number that is in use by a different service (eg: 80, 443).</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#Port 22</span><br></pre></td></tr></table></figure><p><strong>Second, disable SSH login for the root user.</strong> Everyone knows that Linux systems comes with root user access and by default the root access is enabled for outside world. With a good, long, and complicated password, you can limit your exposure to a brute force attack. However, it may still be possible. Hackers can potentially get access to your system if they can figure out your root password. For security reason, root access through SSH should be disabled in order to prevent the hacker from gaining root access to your server. Find the following sections, Remove the <strong>#</strong> symbol and change the from <strong>yes</strong> to <strong>no</strong> to stop future root login.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#PermitRootLogin yes</span><br></pre></td></tr></table></figure><p><strong>Third, reload the SSH.</strong></p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl reload sshd.service</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart</span><br></pre></td></tr></table></figure><p>And that&#x2019;s it. Your SSH port number will change and you can no longer directly access root via SSH.</p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="2953513567" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div class="columns is-variable is-1 is-multiline is-mobile"><span class="column is-narrow"><a class="tag is-light article-tag" href="/tag/centos/">#CentOS</a></span></div><div class="columns is-mobile is-multiline article-nav"><span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/tech/opencart-admin-folder-rename-with-vqmod/">Opencart Admin Folder Rename with vQmod</a> </span><span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/tech/wordpress-mobile-site-seo-vary-http-header/">Wordpress Mobile Site SEO: Vary HTTP header</a></span></div></article><div class="sharebox"><div class="sharethis-inline-share-buttons"></div><script async type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=6030430e289b2f0011212bb6&amp;product=sop"></script></div><div class="comments"><h3 class="title is-4">Comments</h3><div id="isso-thread" data-title="Initial Server Setup with CentOS 5.x 6.x 7.x"></div><script async data-isso="//comments.qualityology.com" src="//comments.qualityology.com/js/embed.min.js" data-isso-require-author="true" data-isso-require-email="true" data-isso-avatar="false" data-isso-gravatar="true" data-isso-vote="true" data-isso-reveal-on-click="true"></script></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered">&copy; 2021 Qualityology&nbsp;</div><div class="column is-hidden-mobile"></div></div></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/js/all.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>window.FontAwesomeConfig={searchPseudoElements:!0},moment.locale("en-AU")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready(function(){$("figure.hljs").each(function(t,e){var a="code-"+t,r=e.querySelector(".code"),t=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,t.addClass("clipboard-btn"),t.attr("data-clipboard-target-id",a);a=e.querySelector("figcaption");a?a.append(t[0]):e.prepend(t[0])}),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",function(t){t.clearSelection()})})</script><script src="/js/script.js"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>