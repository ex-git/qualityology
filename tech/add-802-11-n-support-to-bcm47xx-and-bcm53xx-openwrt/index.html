<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charset="utf-8"><title>Add 802.11-n support to BCM47xx and BCM53xx OpenWrt - Qualityology - Let&#39;s get the most out of life!</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="preconnect" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="preconnect" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="preconnect" href="//ajax.googleapis.com"><link rel="dns-prefetch" href="//ajax.googleapis.com"><meta name="description" content="OpenWrt in default uses the reverse engineered b43 driver for BCM47xx and BCM53xx devices. With this driver only 802.11g is supported, but you can easily get wireless 802.11n working by installing the"><meta property="og:type" content="article"><meta property="og:title" content="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt"><meta property="og:url" content="https://www.qualityology.com/tech/add-802-11-n-support-to-bcm47xx-and-bcm53xx-openwrt/index.html"><meta property="og:site_name" content="Qualityology - Let&#39;s get the most out of life!"><meta property="og:description" content="OpenWrt in default uses the reverse engineered b43 driver for BCM47xx and BCM53xx devices. With this driver only 802.11g is supported, but you can easily get wireless 802.11n working by installing the"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2015-04-11T23:05:53.000Z"><meta property="article:modified_time" content="2021-02-22T23:04:37.777Z"><meta property="article:author" content="Evan Xu"><meta property="article:tag" content="OpenWrt"><meta name="twitter:card" content="summary"><link rel="alternative" href="/rss.xml" title="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt" type="aapplication/rss+xml"><link rel="alternative" href="/atom.xml" title="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt" type="application/atom+xml"><link rel="alternative" href="/feed.json" title="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt" type="application/json"><link rel="icon" type="image/png" href="/assets/logo.png"><link rel="apple-touch-icon" href="/assets/logo_160.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/logo_304.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/logo_360.png"><link rel="apple-touch-icon" sizes="167x167" href="/assets/logo_334.png"><meta name="apple-mobile-web-app-title" content="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt - Qualityology - Let&#39;s get the most out of life!"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&display=swap"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/style.css"><script>const pageLoaded=()=>{const o=window.adsbygoogle||[];o.push({}),o.push({})}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-6144848-7"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-6144848-7")</script><meta name="generator" content="Hexo 5.4.0"></head><body onload="pageLoaded()"><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item navbar-logo" href="/"><img src="/assets/loading.gif" data-original="/assets/logo.png" alt height="28"></a><div class="navbar-burger"><span></span> <span></span> <span></span></div></div><div class="navbar-menu navbar-start"><span class="navbar-item"><a href="/lifestyle">Lifestyle </a></span><span class="navbar-item is-active"><a href="/tech">Technology</a></span></div><div class="navbar-menu navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-4 is-size-4-mobile" itemprop="name">Add 802.11-n support to BCM47xx and BCM53xx OpenWrt</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"><span class="column is-narrow"><time datetime="2015-04-11T23:05:53.000Z" itemprop="datePublished">Apr 11 2015</time> </span><span class="column is-narrow article-category"><i class="far fa-folder"></i> <a class="article-category-link" href="/tech/">tech</a> </span><span class="column is-narrow">a minute read (About 182 words)</span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><p>OpenWrt in default uses the reverse engineered b43 driver for BCM47xx and BCM53xx devices. With this driver only 802.11g is supported, but you can easily get wireless 802.11n working by installing the Broadcom open source brcmsmac driver. You can easily do make wireless N working by following below steps.</p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="9746105168" data-ad-format="auto" data-full-width-responsive="true"></ins><h2 id="Step-1-telnet-or-SSH-to-the-router"><a href="#Step-1-telnet-or-SSH-to-the-router" class="headerlink" title="Step 1, telnet or SSH to the router.**"></a>Step 1, telnet or SSH to the router.**</h2><h2 id="Step-2-execute-the-following-commands-through-SSH-or-telnet"><a href="#Step-2-execute-the-following-commands-through-SSH-or-telnet" class="headerlink" title="Step 2. execute the following commands through SSH or telnet.**"></a>Step 2. execute the following commands through SSH or telnet.**</h2><p>By running the following commands you will remove kmod-b43 and other unnecessary drivers, install kmod-brcmsmac and kmod-brcmutil package.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install kmod-brcmsmac</span><br><span class="line">opkg install kmod-brcmutil</span><br><span class="line">rmmod b43</span><br><span class="line">rmmod b43legacy</span><br><span class="line">rmmod wl</span><br><span class="line">rmmod brcmsmac</span><br><span class="line">rmmod brcmutil</span><br><span class="line">modprobe brcmsmac</span><br></pre></td></tr></table></figure><h2 id="Step-3-delete-the-old-config-files-and-get-the-initial-configuration-file"><a href="#Step-3-delete-the-old-config-files-and-get-the-initial-configuration-file" class="headerlink" title="Step 3, delete the old config files and get the initial configuration file.**"></a>Step 3, delete the old config files and get the initial configuration file.**</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -f /etc/config/wireless</span><br><span class="line">wifi detect &gt; /etc/config/wireless</span><br></pre></td></tr></table></figure><h2 id="Step-4-enable-the-WiFi"><a href="#Step-4-enable-the-WiFi" class="headerlink" title="Step 4, enable the WiFi.**"></a>Step 4, enable the WiFi.**</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/config/wireless</span><br></pre></td></tr></table></figure><p>Comment out &#x201C;option disabled 1&#x201D; by adding &#x201C;#&#x201D; in front of it or delete it &#x201C;option disabled 1&#x201D; completely. After that, run the following command and you will see SSID named OpenWrt on your other devices.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wifi</span><br></pre></td></tr></table></figure><p>*Note: brcmsmac does not support 40mhz (yet).</p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="2953513567" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div class="columns is-variable is-1 is-multiline is-mobile"><span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/openwrt/">#OpenWrt</a></span></div><div class="columns is-mobile is-multiline article-nav"><span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/tech/fix-raspberry-pi-openwrt-boot-problem/">Fix Raspberry Pi OpenWrt Boot problem</a> </span><span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/tech/how-to-install-openwrt-on-raspberry-pi/">How to install OpenWrt on Raspberry Pi</a></span></div></article><div class="sharebox"><div class="sharethis-inline-share-buttons"></div><script async type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=6030430e289b2f0011212bb6&amp;product=sop"></script></div><div class="comments"><h3 class="title is-4">Comments</h3><div id="isso-thread" data-title="Add 802.11-n support to BCM47xx and BCM53xx OpenWrt"></div><script async data-isso="//comments.qualityology.com" src="//comments.qualityology.com/js/embed.min.js" data-isso-require-author="true" data-isso-require-email="true" data-isso-avatar="false" data-isso-gravatar="true" data-isso-vote="true" data-isso-reveal-on-click="true"></script></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered">&copy; 2021 Qualityology&nbsp;</div><div class="column is-hidden-mobile"></div></div></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/js/all.min.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>window.FontAwesomeConfig={searchPseudoElements:!0},moment.locale("en-AU")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready(function(){$("figure.hljs").each(function(t,e){var a="code-"+t,r=e.querySelector(".code"),t=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,t.addClass("clipboard-btn"),t.attr("data-clipboard-target-id",a);a=e.querySelector("figcaption");a?a.append(t[0]):e.prepend(t[0])}),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",function(t){t.clearSelection()})})</script><script src="/js/script.js"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>