<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charset="utf-8"><title>FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew - Qualityology - Let&#39;s get the most out of life!</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="SSL certificate from Let&amp;#x2019;s Encrypt is free. That is the the whole point of why people are getting Let&amp;#x2019;s Encrypt&amp;#x2019;s SSL certificate. Their SSl are supported in all modern browsers."><meta property="og:type" content="article"><meta property="og:title" content="FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew"><meta property="og:url" content="https://www.qualityology.com/tech/free-lets-encrypt-ssl-certificate-via-certbot/index.html"><meta property="og:site_name" content="Qualityology - Let&#39;s get the most out of life!"><meta property="og:description" content="SSL certificate from Let&amp;#x2019;s Encrypt is free. That is the the whole point of why people are getting Let&amp;#x2019;s Encrypt&amp;#x2019;s SSL certificate. Their SSl are supported in all modern browsers."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2017-01-29T07:43:55.000Z"><meta property="article:modified_time" content="2021-02-20T03:07:33.583Z"><meta property="article:author" content="Evan Xu"><meta property="article:tag" content="SSL"><meta name="twitter:card" content="summary"><link rel="alternative" href="/rss.xml" title="FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew" type="aapplication/rss+xml"><link rel="alternative" href="/atom.xml" title="FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew" type="application/atom+xml"><link rel="alternative" href="/feed.json" title="FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew" type="application/json"><link rel="icon" type="image/png" href="/assets/logo.png"><link rel="apple-touch-icon" href="/assets/logo_160.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/logo_304.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/logo_360.png"><link rel="apple-touch-icon" sizes="167x167" href="/assets/logo_334.png"><meta name="apple-mobile-web-app-title" content="FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew - Qualityology - Let&#39;s get the most out of life!"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto&display=swap"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>const pageLoaded=()=>{const o=window.adsbygoogle||[];o.push({}),o.push({})}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-6144848-7"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-6144848-7")</script><meta name="generator" content="Hexo 5.4.0"></head><body onload="pageLoaded()"><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item navbar-logo" href="/"><img src="/assets/loading.gif" data-original="/assets/logo.png" alt height="28"></a><div class="navbar-burger"><span></span> <span></span> <span></span></div></div><div class="navbar-menu navbar-start"><span class="navbar-item"><a href="/lifestyle">Lifestyle </a></span><span class="navbar-item is-active"><a href="/tech">Technology</a></span></div><div class="navbar-menu navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-4 is-size-4-mobile" itemprop="name">FREE Let&#39;s Encrypt SSL certificate via Certbot and auto renew</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"><span class="column is-narrow"><time datetime="2017-01-29T07:43:55.000Z" itemprop="datePublished">Jan 28 2017</time> </span><span class="column is-narrow article-category"><i class="far fa-folder"></i> <a class="article-category-link" href="/tech/">tech</a> </span><span class="column is-narrow">3 minutes read (About 442 words)</span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><p>SSL certificate from Let&#x2019;s Encrypt is free. That is the the whole point of why people are getting Let&#x2019;s Encrypt&#x2019;s SSL certificate. Their SSl are supported in all modern browsers. The only con is the certificate expire in 3 months. However, we can make the renewing process easier with cron. This guide is for server that already have https setup correctly, and will NOT cover how to setup https or modify server ssl configuration file.</p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="9746105168" data-ad-format="auto" data-full-width-responsive="true"></ins><h2 id="Step-1-get-Let&#x2019;s-Encrypt&#x2019;s-client-Certbot"><a href="#Step-1-get-Let&#x2019;s-Encrypt&#x2019;s-client-Certbot" class="headerlink" title="Step 1, get Let&#x2019;s Encrypt&#x2019;s client: Certbot."></a>Step 1, get Let&#x2019;s Encrypt&#x2019;s client: Certbot.</h2><p>Most systems already have Certbot package in the repository. You can check and follow the installation step from <a target="_blank" rel="external nofollow noopener noreferrer" href="https://certbot.eff.org/">https://certbot.eff.org</a> *You can add more domain to above command if you like.</p><h2 id="Step-2-use-CertBot-to-get-SSL-certificate-for-domain1-and-domain2"><a href="#Step-2-use-CertBot-to-get-SSL-certificate-for-domain1-and-domain2" class="headerlink" title="Step 2, use CertBot to get SSL certificate for domain1 and domain2."></a>Step 2, use CertBot to get SSL certificate for domain1 and domain2.</h2><p>*We only need CertBot to generate certificate only in this case and we don&#x2019;t want CertBot to touch SSL configuration file.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./certbot certonly --email xxx@xxx.com -d domain1.com -d www.domain1.com -d domain2.com -d www.domain2.com</span><br></pre></td></tr></table></figure><p>Pick 1-3 for according to your server setup if you see below feedback.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">How would you like to authenticate with the ACME CA?</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">1: Apache Web Server plugin - Beta (apache)</span><br><span class="line">2: Place files in webroot directory (webroot)</span><br><span class="line">3: Spin up a temporary webserver (standalone)</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">Select the appropriate number [1-3] then [enter] (press &apos;c&apos; to cancel): </span><br></pre></td></tr></table></figure><p>CertBot will automatically verify your domain(s), generate key, and create CSR. Your will see Congratulation! note after all processes are completed. Total about 20 seconds.</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">IMPORTANT NOTES:</span><br><span class="line"> - Congratulations! Your certificate and chain have been saved at</span><br><span class="line">   /etc/letsencrypt/live/domain1.com/fullchain.pem. Your cert</span><br><span class="line">   will expire on 2017-02-31. To obtain a new or tweaked version of</span><br><span class="line">   this certificate in the future, simply run certbot-auto again. To</span><br><span class="line">   non-interactively renew *all* of your certificates, run</span><br><span class="line">   &quot;certbot-auto renew&quot;</span><br></pre></td></tr></table></figure><h2 id="Step3-check-if-your-SSL-certificate-is-in-etc-letsencrypt-live-domain1-com-folder-You-should-have-below-files"><a href="#Step3-check-if-your-SSL-certificate-is-in-etc-letsencrypt-live-domain1-com-folder-You-should-have-below-files" class="headerlink" title="Step3, check if your SSL certificate is in /etc/letsencrypt/live/domain1.com/ folder. You should have below files."></a>Step3, check if your SSL certificate is in /etc/letsencrypt/live/<strong>domain1</strong>.com/ folder. You should have below files.</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">privkey.pem  : the private key for your certificate.</span><br><span class="line">fullchain.pem: the certificate file used in most server software.</span><br><span class="line">chain.pem    : used for OCSP stapling in Nginx &gt;=1.3.7.</span><br><span class="line">cert.pem     : will break many server configurations, and should not be used without reading further documentation.</span><br></pre></td></tr></table></figure><h2 id="Step-4-point-your-SSL-certificate-private-key-and-chain-to-the-new-generated-SSL-certificate-location-with-correct-names"><a href="#Step-4-point-your-SSL-certificate-private-key-and-chain-to-the-new-generated-SSL-certificate-location-with-correct-names" class="headerlink" title="Step 4, point your SSL certificate, private key, and chain to the new generated SSL certificate location with correct names."></a>Step 4, point your SSL certificate, private key, and chain to the new generated SSL certificate location with correct names.</h2><p>(How to? please refer to this guide: <a target="_blank" rel="external nofollow noopener noreferrer" href="http://nginx.org/en/docs/http/configuring_https_servers.html">Configuring HTTPS servers</a>)</p><h2 id="Step-5-create-a-auto-renewal-check-task-to-have-your-server-run-CertBot-to-check-the-certification-expiration-date-everyday-to-make-sure-your-SSL-is-not-expired"><a href="#Step-5-create-a-auto-renewal-check-task-to-have-your-server-run-CertBot-to-check-the-certification-expiration-date-everyday-to-make-sure-your-SSL-is-not-expired" class="headerlink" title="Step 5, create a auto renewal check task to have your server run CertBot to check the certification expiration date everyday to make sure your SSL is not expired."></a>Step 5, create a auto renewal check task to have your server run CertBot to check the certification expiration date everyday to make sure your SSL is not expired.</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">certbot renew --noninteractive --renew-hook &apos;sudo systemctl reload nginx&apos;</span><br></pre></td></tr></table></figure><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6914615778368190" data-ad-slot="2953513567" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div class="columns is-variable is-1 is-multiline is-mobile"><span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/ssl/">#SSL</a></span></div><div class="columns is-mobile is-multiline article-nav"><span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/tech/install-linux-apache-mysql-php-phpmyadmin-centos-6-7/">Install LAMP (Linux Apache MySQL and PHP) phpMyAdmin on CentOS 6 7</a> </span><span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/tech/macos-sierra-asus-z87-a-clover-installation-for-upgrade-from-el-capitan-or-fresh-install/">macOS Sierra Asus Z87-A Clover Installation for Upgrade from El Capitan Or Fresh Install</a></span></div></article><div class="sharebox"><div class="sharethis-inline-share-buttons"></div><script async type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=6030430e289b2f0011212bb6&amp;product=sop"></script></div><div class="comments"><h3 class="title is-4">Comments</h3><div id="isso-thread" data-title="FREE Let's Encrypt SSL certificate via Certbot and auto renew"></div><script async data-isso="//comments.qualityology.com" src="//comments.qualityology.com/js/embed.min.js" data-isso-require-author="true" data-isso-require-email="true" data-isso-avatar="false" data-isso-gravatar="true" data-isso-vote="true" data-isso-reveal-on-click="true"></script></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered">&copy; 2021 Qualityology&nbsp;</div><div class="column is-hidden-mobile"></div></div></div><script async src="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/js/all.min.js"></script></footer><script async src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script async src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>window.FontAwesomeConfig={searchPseudoElements:!0},moment.locale("en-AU")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready(function(){$("figure.hljs").each(function(t,e){var a="code-"+t,r=e.querySelector(".code"),t=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,t.addClass("clipboard-btn"),t.attr("data-clipboard-target-id",a);a=e.querySelector("figcaption");a?a.append(t[0]):e.prepend(t[0])}),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",function(t){t.clearSelection()})})</script><script src="/js/script.js"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>